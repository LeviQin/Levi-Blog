{
  "version": 3,
  "sources": ["../../@kangc/v-md-editor/lib/utils/markdown-it-copy-code.js", "../../@kangc/v-md-editor/lib/plugins/copy-code/parser.js", "../../toggle-selection/index.js", "../../copy-to-clipboard/index.js", "../../@kangc/v-md-editor/lib/plugins/copy-code/preview.js", "../../@kangc/v-md-editor/lib/plugins/copy-code/index.js", "dep:@kangc_v-md-editor_lib_plugins_copy-code_index"],
  "sourcesContent": ["\"use strict\";\r\n\r\nexports.__esModule = true;\r\nexports.default = _default;\r\n\r\n// markdown-it plugin for generating copy code button.\r\n// It depends on preWrapper plugin.\r\n\r\n/* eslint-disable max-len */\r\nfunction _default(md) {\r\n  var fence = md.renderer.rules.fence;\r\n\r\n  md.renderer.rules.fence = function () {\r\n    var rawCode = fence.apply(void 0, arguments);\r\n    var button = \"\\n    <button class=\\\"v-md-copy-code-btn\\\" type=\\\"button\\\">\\n      <i>\\n        <svg viewBox=\\\"64 64 896 896\\\" focusable=\\\"false\\\" data-icon=\\\"copy\\\" width=\\\"1em\\\" height=\\\"1em\\\" fill=\\\"currentColor\\\" aria-hidden=\\\"true\\\">\\n          <path d=\\\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\\\"></path>\\n        </svg>\\n      </i>\\n    </button>\";\r\n    var finalCode = rawCode.replace('<!--beforeend-->', button + \"<!--beforeend-->\").replace('v-md-pre-wrapper', 'v-md-pre-wrapper copy-code-mode');\r\n    return finalCode;\r\n  };\r\n}", "\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nexports.__esModule = true;\r\nexports.default = _default;\r\n\r\nvar _markdownItCopyCode = _interopRequireDefault(require(\"../../utils/markdown-it-copy-code\"));\r\n\r\nfunction _default(vMdParser) {\r\n  vMdParser.extendMarkdown(function (mdParser) {\r\n    mdParser.use(_markdownItCopyCode.default);\r\n  });\r\n}", "\r\nmodule.exports = function () {\r\n  var selection = document.getSelection();\r\n  if (!selection.rangeCount) {\r\n    return function () {};\r\n  }\r\n  var active = document.activeElement;\r\n\r\n  var ranges = [];\r\n  for (var i = 0; i < selection.rangeCount; i++) {\r\n    ranges.push(selection.getRangeAt(i));\r\n  }\r\n\r\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\r\n    case 'INPUT':\r\n    case 'TEXTAREA':\r\n      active.blur();\r\n      break;\r\n\r\n    default:\r\n      active = null;\r\n      break;\r\n  }\r\n\r\n  selection.removeAllRanges();\r\n  return function () {\r\n    selection.type === 'Caret' &&\r\n    selection.removeAllRanges();\r\n\r\n    if (!selection.rangeCount) {\r\n      ranges.forEach(function(range) {\r\n        selection.addRange(range);\r\n      });\r\n    }\r\n\r\n    active &&\r\n    active.focus();\r\n  };\r\n};\r\n", "\"use strict\";\r\n\r\nvar deselectCurrent = require(\"toggle-selection\");\r\n\r\nvar clipboardToIE11Formatting = {\r\n  \"text/plain\": \"Text\",\r\n  \"text/html\": \"Url\",\r\n  \"default\": \"Text\"\r\n}\r\n\r\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\r\n\r\nfunction format(message) {\r\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\u2318\" : \"Ctrl\") + \"+C\";\r\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\r\n}\r\n\r\nfunction copy(text, options) {\r\n  var debug,\r\n    message,\r\n    reselectPrevious,\r\n    range,\r\n    selection,\r\n    mark,\r\n    success = false;\r\n  if (!options) {\r\n    options = {};\r\n  }\r\n  debug = options.debug || false;\r\n  try {\r\n    reselectPrevious = deselectCurrent();\r\n\r\n    range = document.createRange();\r\n    selection = document.getSelection();\r\n\r\n    mark = document.createElement(\"span\");\r\n    mark.textContent = text;\r\n    // avoid screen readers from reading out loud the text\r\n    mark.ariaHidden = \"true\"\r\n    // reset user styles for span element\r\n    mark.style.all = \"unset\";\r\n    // prevents scrolling to the end of the page\r\n    mark.style.position = \"fixed\";\r\n    mark.style.top = 0;\r\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\r\n    // used to preserve spaces and line breaks\r\n    mark.style.whiteSpace = \"pre\";\r\n    // do not inherit user-select (it may be `none`)\r\n    mark.style.webkitUserSelect = \"text\";\r\n    mark.style.MozUserSelect = \"text\";\r\n    mark.style.msUserSelect = \"text\";\r\n    mark.style.userSelect = \"text\";\r\n    mark.addEventListener(\"copy\", function(e) {\r\n      e.stopPropagation();\r\n      if (options.format) {\r\n        e.preventDefault();\r\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\r\n          debug && console.warn(\"unable to use e.clipboardData\");\r\n          debug && console.warn(\"trying IE specific stuff\");\r\n          window.clipboardData.clearData();\r\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\r\n          window.clipboardData.setData(format, text);\r\n        } else { // all other browsers\r\n          e.clipboardData.clearData();\r\n          e.clipboardData.setData(options.format, text);\r\n        }\r\n      }\r\n      if (options.onCopy) {\r\n        e.preventDefault();\r\n        options.onCopy(e.clipboardData);\r\n      }\r\n    });\r\n\r\n    document.body.appendChild(mark);\r\n\r\n    range.selectNodeContents(mark);\r\n    selection.addRange(range);\r\n\r\n    var successful = document.execCommand(\"copy\");\r\n    if (!successful) {\r\n      throw new Error(\"copy command was unsuccessful\");\r\n    }\r\n    success = true;\r\n  } catch (err) {\r\n    debug && console.error(\"unable to copy using execCommand: \", err);\r\n    debug && console.warn(\"trying IE specific stuff\");\r\n    try {\r\n      window.clipboardData.setData(options.format || \"text\", text);\r\n      options.onCopy && options.onCopy(window.clipboardData);\r\n      success = true;\r\n    } catch (err) {\r\n      debug && console.error(\"unable to copy using clipboardData: \", err);\r\n      debug && console.error(\"falling back to prompt\");\r\n      message = format(\"message\" in options ? options.message : defaultMessage);\r\n      window.prompt(message, text);\r\n    }\r\n  } finally {\r\n    if (selection) {\r\n      if (typeof selection.removeRange == \"function\") {\r\n        selection.removeRange(range);\r\n      } else {\r\n        selection.removeAllRanges();\r\n      }\r\n    }\r\n\r\n    if (mark) {\r\n      document.body.removeChild(mark);\r\n    }\r\n    reselectPrevious();\r\n  }\r\n\r\n  return success;\r\n}\r\n\r\nmodule.exports = copy;\r\n", "\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nexports.__esModule = true;\r\nexports.default = createCopyCodePreview;\r\n\r\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\r\n\r\nfunction isCopyButton(el) {\r\n  return el.classList.contains('v-md-copy-code-btn');\r\n}\r\n\r\nfunction findCodeWrapperEl(el) {\r\n  if (el.classList.contains('v-md-pre-wrapper')) {\r\n    return el;\r\n  }\r\n\r\n  return findCodeWrapperEl(el.parentNode);\r\n}\r\n\r\nfunction getPreviewEl(el) {\r\n  var previewElClass = 'v-md-editor-preview';\r\n  return el.classList.contains(previewElClass) ? el : el.querySelector(\".\" + previewElClass);\r\n}\r\n\r\nfunction createCopyCodePreview() {\r\n  return {\r\n    install: function install(VMdEditor) {\r\n      if (!VMdEditor.mixins) VMdEditor.mixins = [];\r\n      VMdEditor.mixins.push({\r\n        emits: ['copy-code-success'],\r\n        mounted: function mounted() {\r\n          var _this = this;\r\n\r\n          this.$nextTick(function () {\r\n            var previewEl = getPreviewEl(_this.$el);\r\n            previewEl.addEventListener('click', _this.handleCopyCodeClick);\r\n          });\r\n        },\r\n        beforeUnmount: function beforeUnmount() {\r\n          var previewEl = getPreviewEl(this.$el);\r\n          previewEl.removeEventListener('click', this.handleCopyCodeClick);\r\n        },\r\n        methods: {\r\n          handleCopyCodeClick: function handleCopyCodeClick(_ref) {\r\n            var target = _ref.target;\r\n\r\n            if (isCopyButton(target)) {\r\n              var codeWrapper = findCodeWrapperEl(target.parentNode);\r\n\r\n              if (codeWrapper) {\r\n                var code = codeWrapper.querySelector('code').innerText;\r\n                (0, _copyToClipboard.default)(code);\r\n                this.$emit('copy-code-success', code);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n}", "\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nexports.__esModule = true;\r\nexports.default = createCopyCodePlugin;\r\n\r\nvar _parser = _interopRequireDefault(require(\"./parser\"));\r\n\r\nvar _preview = _interopRequireDefault(require(\"./preview\"));\r\n\r\nfunction createCopyCodePlugin() {\r\n  return {\r\n    install: function install(VMdEditor) {\r\n      VMdEditor.vMdParser.use(_parser.default);\r\n      VMdEditor.use((0, _preview.default)());\r\n    }\r\n  };\r\n}", "export default require(\"./node_modules/@kangc/v-md-editor/lib/plugins/copy-code/index.js\");"],
  "mappings": "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",
  "names": ["format", "err"]
}
